(()=>{"use strict";const e=(e,t)=>{const a=document.getElementById(`weekly_icon${t}`);switch(e.weather[0].icon){case"01d":a.className="",a.classList.add("wi"),a.classList.add("wi-day-sunny");break;case"02d":a.className="",a.classList.add("wi"),a.classList.add("wi-day-cloudy");break;case"03d":case"03n":a.className="",a.classList.add("wi"),a.classList.add("wi-cloud");break;case"04d":case"04n":a.className="",a.classList.add("wi"),a.classList.add("wi-cloudy");break;case"09d":case"09n":a.className="",a.classList.add("wi"),a.classList.add("wi-rain");break;case"10d":a.className="",a.classList.add("wi"),a.classList.add("wi-day-rain");break;case"11d":case"11n":a.className="",a.classList.add("wi"),a.classList.add("wi-thunderstorm");break;case"13d":case"13n":a.className="",a.classList.add("wi"),a.classList.add("wi-snow");break;case"50d":case"50n":a.className="",a.classList.add("wi"),a.classList.add("wi-fog");break;case"01n":a.className="",a.classList.add("wi"),a.classList.add("wi-night-clear");break;case"02n":a.className="",a.classList.add("wi"),a.classList.add("wi-night-alt-cloudy");break;case"10n":a.className="",a.classList.add("wi"),a.classList.add("wi-night-alt-rain")}},t=t=>{const a=(e,t)=>{let a;"rise"===t?a=new Date(1e3*(e.sys.sunrise+e.timezone)):"set"===t&&(a=new Date(1e3*(e.sys.sunset+e.timezone)));let s=a.getHours()-2;return-1===s?s=23:-2===s&&(s=22),s+":"+("0"+a.getMinutes()).substr(-2)},s=document.querySelector(".city_name"),n=document.querySelector(".state_name"),d=document.querySelector(".temperature"),c=document.querySelector(".current_date"),i=document.querySelector(".current_time"),o=document.querySelector(".main_desc"),l=document.querySelector(".detail_desc"),r=document.getElementById("feels"),m=document.getElementById("humid"),u=document.getElementById("press"),g=document.getElementById("wind"),y=document.getElementById("sunrise"),w=document.getElementById("sunset"),h=document.getElementById("maxtemp"),p=document.getElementById("mintemp");s.textContent=`${t.name}`,n.textContent=`${t.sys.country}`,d.textContent=`${Math.round(t.main.temp)}°`,c.textContent=`${(e=>{let t,a=new Date(1e3*(e.dt+e.timezone));switch(a.getDay()){case 0:case 6:t="Sun";break;case 1:t="Mon";break;case 2:t="Tue";break;case 3:t="Wed";break;case 4:t="Thu";break;case 5:t="Fri"}return`${t}, ${a.getDate()}/${a.getMonth()+1}/${a.getFullYear()}`})(t)}`,i.textContent=`${(e=>{let t=new Date(1e3*(e.dt+e.timezone)),a=t.getHours()-2;return-1===a?a=23:-2===a&&(a=22),a+":"+("0"+t.getMinutes()).substr(-2)})(t)} h`,o.textContent=`${t.weather[0].main}`,(e=>{const t=document.getElementById("main_icon"),a=document.querySelector(".main_container");switch(e.weather[0].icon){case"01d":t.className="",t.classList.add("wi"),t.classList.add("wi-day-sunny"),a.style.backgroundImage="url('./photos/sunny.webp')";break;case"02d":t.className="",t.classList.add("wi"),t.classList.add("wi-day-cloudy"),a.style.backgroundImage="url('./photos/cloudy.webp')";break;case"03d":t.className="",t.classList.add("wi"),t.classList.add("wi-cloud"),a.style.backgroundImage="url('./photos/cloudy.webp')";break;case"04d":t.className="",t.classList.add("wi"),t.classList.add("wi-cloudy"),a.style.backgroundImage="url('./photos/cloudy.webp')";break;case"09d":t.className="",t.classList.add("wi"),t.classList.add("wi-rain"),a.style.backgroundImage="url('./photos/rainy.jpg')";break;case"10d":t.className="",t.classList.add("wi"),t.classList.add("wi-day-rain"),a.style.backgroundImage="url('./photos/rainy.jpg')";break;case"11d":case"11n":t.className="",t.classList.add("wi"),t.classList.add("wi-thunderstorm"),a.style.backgroundImage="url('./photos/thunderstorm.jpg')";break;case"13d":t.className="",t.classList.add("wi"),t.classList.add("wi-snow"),a.style.backgroundImage="url('./photos/snow.webp')";break;case"50d":t.className="",t.classList.add("wi"),t.classList.add("wi-fog"),a.style.backgroundImage="url('./photos/foggy.jpg')";break;case"01n":t.className="",t.classList.add("wi"),t.classList.add("wi-night-clear"),a.style.backgroundImage="url('./photos/night-clear.webp')";break;case"02n":t.className="",t.classList.add("wi"),t.classList.add("wi-night-alt-cloudy"),a.style.backgroundImage="url('./photos/night-cloudy.jpg')";break;case"03n":t.className="",t.classList.add("wi"),t.classList.add("wi-cloud"),a.style.backgroundImage="url('./photos/night-cloudy.jpg')";break;case"04n":t.className="",t.classList.add("wi"),t.classList.add("wi-cloudy"),a.style.backgroundImage="url('./photos/night-cloudy.jpg')";break;case"09n":t.className="",t.classList.add("wi"),t.classList.add("wi-rain"),a.style.backgroundImage="url('./photos/night-rainy.jpg')";break;case"10n":t.className="",t.classList.add("wi"),t.classList.add("wi-night-alt-rain"),a.style.backgroundImage="url('./photos/night-rainy.jpg')";break;case"13n":t.className="",t.classList.add("wi"),t.classList.add("wi-snow"),a.style.backgroundImage="url('./photos/night-snow.jpg')";break;case"50n":t.className="",t.classList.add("wi"),t.classList.add("wi-fog"),a.style.backgroundImage="url('./photos/night-fog.jpg')"}})(t),l.textContent=`${t.weather[0].description}`,r.textContent=`${Math.round(t.main.feels_like)}°`,m.textContent=`${t.main.humidity}%`,u.textContent=`${t.main.pressure} hPa`,g.textContent=`${Math.round(t.wind.speed)} km/h`,y.textContent=`${a(t,"rise")} h`,w.textContent=`${a(t,"set")} h`,h.textContent=`${Math.round(t.main.temp_max)}°`,p.textContent=`${Math.round(t.main.temp_min)}°`,(t=>{const a=e=>e.getDate()+"."+(e.getMonth()+1);fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${t.textContent}&appid=e87b1d0df402ffef61de75ccb3df3f8a&units=metric`,{mode:"cors"}).then((function(e){return e.json()})).then((function(t){console.log(t);const s=document.querySelector(".forecast"),n=s.querySelector(".day1_title"),d=s.querySelector(".day2_title"),c=s.querySelector(".day3_title"),i=s.querySelector(".day4_title"),o=s.querySelector(".day5_title"),l=new Date;l.setDate(l.getDate()+1),n.textContent=`${a(l)}`,l.setDate(l.getDate()+1),d.textContent=`${a(l)}`,l.setDate(l.getDate()+1),c.textContent=`${a(l)}`,l.setDate(l.getDate()+1),i.textContent=`${a(l)}`,l.setDate(l.getDate()+1),o.textContent=`${a(l)}`;const r=document.getElementById("day_temp1"),m=document.getElementById("day_temp2"),u=document.getElementById("day_temp3"),g=document.getElementById("day_temp4"),y=document.getElementById("day_temp5");r.textContent=`${Math.round(t.list[7].main.temp)}°`,m.textContent=`${Math.round(t.list[15].main.temp)}°`,u.textContent=`${Math.round(t.list[23].main.temp)}°`,g.textContent=`${Math.round(t.list[31].main.temp)}°`,y.textContent=`${Math.round(t.list[39].main.temp)}°`,e(t.list[7],1),e(t.list[15],2),e(t.list[23],3),e(t.list[31],4),e(t.list[39],5)}))})(s)},a=document.getElementById("location"),s=document.querySelector(".search_btn");fetch("https://api.openweathermap.org/data/2.5/weather?q=Makarska&APPID=e87b1d0df402ffef61de75ccb3df3f8a&units=metric",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){t(e),console.log(e)})),s.addEventListener("click",(()=>{fetch(`https://api.openweathermap.org/data/2.5/weather?q=${a.value}&APPID=e87b1d0df402ffef61de75ccb3df3f8a&units=metric`,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){t(e),console.log(e)}))}))})();